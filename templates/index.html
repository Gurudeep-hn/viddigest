<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VidDigest - YouTube Video Summarizer</title>
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
    <script src="{{ url_for('static', path='js/app.js') }}"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>VidDigest</h1>
            <p>Transform long YouTube videos into concise, actionable summaries</p>
        </div>

        <div class="main-card">
            <div class="input-section">
                <div class="input-group">
                    <label for="videoUrl">YouTube Video URL</label>
                    <input 
                        type="url" 
                        id="videoUrl" 
                        class="url-input" 
                        placeholder="https://www.youtube.com/watch?v=..."
                    >
                </div>
                <button class="analyze-btn" onclick="analyzeVideo()">
                    <span class="btn-text">🎯 Analyze Video</span>
                </button>
            </div>

            <div class="loading" id="loadingSection">
                <div class="spinner"></div>
                <p id="loadingText">Analyzing video and generating summary...</p>
                <small>This may take a few moments</small>
            </div>

            <div class="error-section" id="errorSection">
                <div class="error-card">
                    <h3>⚠️ Error</h3>
                    <p id="errorMessage"></p>
                    <button onclick="hideError()" class="retry-btn">Try Again</button>
                </div>
            </div>

            <div class="results-section" id="resultsSection">
                <div class="video-info">
                    <div class="video-title" id="videoTitle"></div>
                    <div class="video-meta">
                        <span id="videoDuration">📅 Duration: --</span>
                        <span id="videoViews">👁️ -- views</span>
                        <span id="videoChannel">📺 --</span>
                    </div>
                </div>

                <div class="summary-card">
                    <div class="summary-header">
                        <h3 class="summary-title">📝 AI Summary</h3>
                        <button class="copy-btn" onclick="copyToClipboard('summary')">Copy</button>
                    </div>
                    <div class="summary-content" id="summaryContent"></div>
                </div>

                <div class="key-points" id="keyPointsSection">
                    <h3>🎯 Key Takeaways</h3>
                    <ul id="keyPoints"></ul>
                </div>

                <div class="summary-card">
                    <div class="summary-header">
                        <h3 class="summary-title">🔗 Timestamps</h3>
                        <button class="copy-btn" onclick="copyToClipboard('timestamps')">Copy</button>
                    </div>
                    <div class="summary-content" id="timestamps"></div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Powered by AI • Built with ❤️ for efficient learning</p>
        </div>
    </div>
</body>
</html>